/********************************************
         INTERFACE IMPROVEMENTS
********************************************/

*::-webkit-scrollbar {
  width: var(--ls-scrollbar-width);
  height: var(--ls-scrollbar-width);
  background-color: var(--ls-scrollbar-background-color);
}

*::-webkit-scrollbar-thumb {
  background-color: var(--ls-scrollbar-foreground-color);
}

*::-webkit-scrollbar-thumb:hover {
  background-color: var(--ls-scrollbar-thumb-hover-color);
}
/* Hides the Favorite & Recent Titles */
/*.left-sidebar-inner .nav-content-item .header {
    visibility: hidden;
}*/

/********************************************
             MENU IMPROVEMENTS
********************************************/

.absolute.rounded-md.shadow-lg.absolute-modal {
    width: 800px !important;
    max-width: 100% !important;
    border: 3px solid var(--bg-color-1);
    max-height: 500px !important;
    height: fit-content !important;
}
.menu-link {
    background-color: var(--bg-color-1);
}
.menu-links-outer, .menu-links-wrapper, .dropdown-wrapper {
    background-color: var(--bg-color-1);
}
.menu-separator {
    border-color: var(--bg-color-2);
}

.menu-link.chosen {
    background-color: hsl(var(--cl-primary), 0.15);
}

/*********************************************
              Interface Improvements
**********************************************/

@media (hover: hover) {

    .left-sidebar-inner>div>nav {
        margin-left: 0px !important;
    }

    .left-sidebar-inner>div>nav>div>a {
        font-size: 13px;
        padding-top: 2px;
        padding-bottom: 2px;
    }

    .left-sidebar-inner>div>nav>div>div>a {
        font-size: 13px;
        padding-top: 2px;
        padding-bottom: 2px;
    }


    /* Make top header bar a neutral color */
    div#head, .cp__right-sidebar-topbar {
        opacity: 1;
    }

    .flex.flex-col.wrap.gap-1.relative {
        opacity: 1;
    }

    /* Favorites & Recent Bar */
    .left-sidebar-inner .nav-contents-container.is-scrolled, .left-sidebar-inner .nav-contents-container {
        border-top: 0px solid var(--ls-tertiary-border-color);
        max-height: 65%;
    }

    .favorites {
        margin-left: 0px;
        margin-top: 16px;
        font-size: 13px;
    }

    .favorite-item,
    .recent-item {
        margin-top: 0;
        margin-bottom: 0;
    }

    .cp__sidebar-left-layout.is-open+#main-content-container {
        margin: 0 10px 10px 0px;
    }

    .cp__header {
        height: 44px;
    }

    .cp__header>.r {
        flex: 0 1 auto;
    }

    .cp__header>.l {
        margin-top: 4px;
    }

    .cp__right-sidebar-topbar {
        /* display: none; */
        height: 44px;
    }

    .sidebar-item-list {
        /* margin-top: 44px; */
        margin-right: 12px;
        border-radius: 6px;
        height: calc(100vh - 56px) !important;
    }

    .sidebar-item {
        margin: 0 0 4px 0px;
        box-shadow: none;
    }
}

/********************************************
         LEFT SIDEBAR IMPROVEMENTS
********************************************/
/* Color Left Sidebar Items */
a.flex.items-center.text-sm.font-medium.rounded-md.wrap-th {
    color: hsl(var(--cl-text-color));
    opacity: 1;
}
a.flex.items-center.text-sm.font-medium.rounded-md.wrap-th:hover {
    opacity: 1;
}
.left-sidebar-inner a.item.active, .left-sidebar-inner a.item:active {
    color: hsl(var(--cl-text-color));
    opacity: 1;
    background-color: hsl(var(--cl-text-color), 0.1);
    border-radius: 4px;
}

.left-sidebar-inner .nav-content-item .bd ul a:hover,
.left-sidebar-inner a.item:hover {
    background-color: hsl(var(--cl-text-color), 0.1);
}

#left-sidebar a.item .ui__icon, #left-sidebar .header a .ui__icon {
    color: hsl(var(--cl-primary));
}

/*
.left-sidebar-inner .nav-content-item .header {
    background-color: hsl(var(--cl-background));
}
*/

/* Setting up outer layer background color */
/*.cp__sidebar-main-layout, #app-container, .left-sidebar-inner {
    background-color: var(--ls-secondary-background-color);
}*/
/* Adjusting left sidebar size and background color */
.left-sidebar-inner {
    padding-top: 0px;
    width: var(--ls-left-sidebar-width);
    background-color: hsl(var(--cl-background));
}
.left-sidebar-inner .create {
    background-image: none !important;
}
.left-sidebar-inner .create #create-button {
    background-color: var(--bg-color-3) !important;
    font-weight: 600;
    border: 1px solid hsl(var(--cl-text-color), 0.1);
}
.left-sidebar-inner .create #create-button:hover {
    background-color: hsl(var(--cl-primary), 0.5) !important;
}
.left-sidebar-inner .create #create-button:hover .ui__icon.ti.ti-plus {
    color: var(--bg-color-1);
}
/********************************************
        RIGHT SIDEBAR IMPROVEMENTS
********************************************/
/* Color Right Sidebar */
/*.sidebar-item-list > .sidebar-item {
    background-color: var(--bg-color);
}*/
.sidebar-item-list .color-level {
    background-color: transparent;
}
.color-level .color-level {
    background-color: var(--bg-color-1);
}

.cp__right-sidebar-topbar {
    position: sticky;
    position: -webkit-sticky;
    top: 0;
    left: 0;
    right: 0;
    background-color: var(--bg-color);
    z-index: 999;
    user-select: none;
    -webkit-app-region: drag;
}

.cp__right-sidebar {
    z-index: var(--ls-z-index-level-1);
    transition: width .3s;
    background-color: var(--bg-color,#d8e1e8);
}
/********************************************
           PAGE TITLE ELEMENTS
********************************************/
/* Fixing the default query space-between */
.lazy-visibility {
    min-height: 0px !important;
}

/* Dimming block control arrow on queries */
span.rotating-arrow.collapsed:not(:hover) {
    opacity: 0.01;
}

/* Improving search panel */
span.mx-2.opacity-50:before {
    font-size: 14px;
    content: "\ea61";
    font-family: 'tabler-icons';
    vertical-align: bottom;
    color: hsl(var(--cl-text-color), 0.5);
}
.menu-link:hover, button.menu:focus, button.pull:hover {
    background-color: hsl(var(--cl-primary), 0.1);
}
.cp__palette-main .menu-link.chosen, .cp__palette-main .menu-link.chosen p, .cp__select-main .menu-link.chosen, .cp__select-main .menu-link.chosen p {
    background-color: hsl(var(--cl-primary), 0.15);
}
/******************************
Reference Panel Styling by Nick Martin
******************************/

/*#main-container :not(.today-queries) .lazy-visibility .color-level, .cp__right-sidebar .color-level .color-level {
    background-color: hsl(var(--cl-background), 0.35);
    border: 0px solid hsl(var(--cl-background), 0.85);
    padding-top: 10px;
    padding-bottom: 10px;
    margin-bottom: 15px;
    border: 1px solid hsl(var(--cl-text-color), 0.1);
    box-shadow: 0px 6px 10px hsla(210, 4%, 18%, 0.02);
}
/* This will modify the style of the body of the block */
/*:not(.today-queries) .references-blocks .blocks-container.flex-1, .custom-query .blocks-container.flex-1 {
    background-color: hsl(var(--cl-text-color), 0.05);
    margin-bottom: 8px;
    padding-top: 4px;
    padding-bottom: 8px;
    border-radius: 0px !important;
    border-bottom-left-radius: 4px !important;
    border-bottom-right-radius: 4px !important;
}
/* Adjusts the breadcrumbs that are above the body of the block */
/*.references .breadcrumb, .lazy-visibility .color-level .breadcrumb {
    padding-left: 1.5rem;
    font-family: var(--ls-font-family) !important;
    background-color: hsl(var(--cl-text-color), 0.05);
    padding-top: 8px !important;
    padding-bottom: 0px !important;
    margin-left: 0px !important;
    border-top-right-radius: 4px !important;
    border-top-left-radius: 4px !important;
    font-size: 85%;
}
.breadcrumb a, .breadcrumb .page-reference .bracket:first-child:before, .breadcrumb .page-reference .bracket:last-child:after {
    font-size: 13.5px;
    color: hsl(var(--cl-text-color), 0.5);
}
/*.references .breadcrumb, .lazy-visibility .color-level .breadcrumb:before {
    content: "\ea02";
    font-family: 'tabler-icons-extension';
    position: relative;
    left: -33px;
    background-color: var(--bg-color) !important;
    top: calc(100% - 10%);
    color: hsl(var(--cl-primary));
    border-radius: 1px;
    height: 100%;
}*/
/*.breadcrumb.block-parents.flex-row.flex-1.my-2 {
    margin-bottom: 0px;
}
/* Hides the block-shadow style from blocks tagged with card */
/*:not(.today-queries) .references-blocks div[data-refs-self*='"card"'], .custom-query div[data-refs-self*='"card"'] {
    box-shadow: none;
}
:not(.today-queries) .initial > div:not(:first-child) .breadcrumb {
    margin-top: 25px;
}
:not(.today-queries) .flex > .lazy-visibility > .fade-enter > .color-level > .flex-col {
    border-left: 0px solid hsl(var(--cl-primary));
    border-radius: 4px;
    padding-left: 28px;
    margin-left: -28px;
}

/* Gives each panel enough space from each other so they're not crowded */
/*.references-blocks .initial > div > .breadcrumb.block-parents.flex-row.flex-1.my-2:not(:first-child) {
    margin-top: 25px !important;
    margin-bottom: 0px !important;
}

/* Makes the reference panel width fit the container size of the normal pane */
/*.sm\:px-7 {
    padding-left: 0px !important;
    padding-right: 0px !important;
}*/

/******************************
**       Breadcrumbs        **
******************************/

/* Replace the fat arrow in breadcrumbs with chevron arrow */
span.mx-2.opacity-50 {
    font-size: 0px;
    margin-left: 3px;
}
span.mx-2.opacity-50:before {
    font-size: 14px;
    content: "\ea61";
    font-family: 'tabler-icons';
    vertical-align: bottom;
    color: hsl(var(--cl-text-color), 0.4);
}
/* Adds some color to the ellipsis */
.breadcrumb.block-parents.flex-row.flex-1.my-2 > .opacity-70 {
    color: hsl(var(--cl-primary));
}
.breadcrumb .page-reference {
    color: hsl(var(--cl-primary));
}

/******************************
**    Today's Query Panel    **
******************************/
.journal-item > .flex-1.journal.page > .flex.flex-col + #today-queries + .flex.flex-col {
    margin-top: 30px;
}

/******************************
**    Embeds    **
******************************/
.color-level.embed-block.bg-base-2 {
    background-color: hsl(var(--cl-background), 0.4);
    border: 1px solid hsl(var(--cl-background), 0.3);
    border-radius: 2px;
}

/******************************
**    Custom Queries    **
******************************/
.ls-block .custom-query-title.flex.justify-between.w-full {
    margin-bottom: 20px;
}
.ls-block .custom-query-title > .flex.items-center > .title-text > .inline.mr-1 {
    background-color: var(--ls-page-properties-background-color);
    border-radius: 6px;
    padding: 4px 8px;
    font-weight: 500;
    color: var(--ls-primary-text-color);
    font-size: 14px;
}
::-webkit-scrollbar-thumb {
    border-radius: 16px;
}

/*******************************
 * Bullet           **
 * *****************************/

.block-main-container .bullet-container .bullet {
    font-size: var(--ls-font-size);
}

/*******************************
 * Menu             **
 * ****************************/
.menu-links-wrapper .ui__icon {
    color: hsl(var(--cl-primary));
}

/****************************************************************************
 * Button
 ****************************************************************************/

.dark-theme .cp__plugins-item-card  a.btn,
.light-theme .cp__plugins-item-card  a.btn {
    color: hsl(var(--cl-primary));
}

.cp__settings-main .panel-wrap .ui__button,
.cp__settings-main .ui__button-theme-color.ui__button-color-custom {
    background-color: hsl(var(--cl-button-background), 0.95);
    color: var(--bg-color);
}

.cp__settings-main .panel-wrap .ui__button:hover,
.cp__settings-main .ui__button-theme-color.ui__button-color-custom:hover {
    background-color: hsl(var(--cl-button-background));
    color: var(--bg-color);
}

.ui__button {
    font-family: var(--ls-font-family);
}

.ui__toggle-background-on {
    background-color: hsl(var(--cl-button-background));
}

button.bg-primary\/90 {
    background-color: hsl(var(--cl-button-background), 0.9);
    color: var(--bg-color);
}

button.bg-primary\/90:hover {
    background-color: hsl(var(--cl-button-background));
    color: var(--bg-color);
}

.ui__button-shortcut-key {
    background-color: transparent;
}

/******************************************************************************
 * Data picker
 ******************************************************************************/
.light-theme .datepicker td.active, .light-theme .datepicker td.active:hover,
.dark-theme .datepicker td.active, .dark-theme .datepicker td.active:hover {
    background-color: hsl(var(--cl-primary, var(--ls-button-background-hsl)));
    border-color: hsl(var(--cl-text-color));
    border-radius: 4px;
    color: var(--bg-color);
    font-weight: 500;
    cursor: pointer;
}

.light-theme .datepicker td.available:hover, .light-theme .datepicker th.available:hover,
.dark-theme .datepicker td.available:hover, .dark-theme .datepicker th.available:hover {
    background-color: hsl(var(--cl-primary, var(--ls-button-background-hsl)));
    border-color: hsl(var(--cl-text-color));
    border-radius: 4px;
    color: var(--bg-color);
    font-weight: 500;
    cursor: pointer;
}

/*****************************************************************************
 * Plugins
 * ***************************************************************************/

.light-theme .cp__plugins-page .secondary-tabs button.active .flex.items-center,
.dark-theme .cp__plugins-page .secondary-tabs button.active .flex.items-center {
    color: hsl(var(--cl-primary));
}

/*****************************************************************************
 * Cmdk
 * ***************************************************************************/
.cp__cmdk__modal .cp__cmdk div.w-full {
    background-color: var(--ls-primary-background-color) !important;
}

.cp__cmdk__modal .cp__cmdk div.text-xs {
    background-color: var(--ls-primary-background-color) !important;
}

/*****************************************************************************
 * Panel
 * ***************************************************************************/
.dark-theme .ui__modal-panel,
.light-theme .ui__modal-panel {
    background-color: var(--ls-primary-background-color);
}
